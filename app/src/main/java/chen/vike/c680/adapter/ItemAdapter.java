package chen.vike.c680.adapter;import android.content.Intent;import android.support.v7.widget.RecyclerView;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import android.widget.Toast;import com.blankj.utilcode.util.ToastUtils;import com.lht.vike.a680_v1.R;import java.util.List;import chen.vike.c680.activity.AllPlanActivity;import chen.vike.c680.activity.OrderDetailsActivity;import chen.vike.c680.activity.PlanDetailsActivity;import chen.vike.c680.activity.PlanListActivity;import chen.vike.c680.activity.TaskDetailsActivity;import chen.vike.c680.bean.JiJianFangAnGson;import chen.vike.c680.bean.XuanShangFangAnGson;import chen.vike.c680.bean.ZhaoBiaoFangAnGson;import chen.vike.c680.main.MyApplication;import chen.vike.c680.tools.BaseStatusBarActivity;import chen.vike.c680.tools.ImageLoadUtils;import chen.vike.c680.tools.LhtTool;import chen.vike.c680.views.CircleImageView;import chen.vike.c680.views.CustomToast;/** * Created by lht on 2017/3/16. */public class ItemAdapter extends RecyclerView.Adapter {    private int TYPE;    private BaseStatusBarActivity context;    private List<Object> list;    private String itemid;    private String gz_id;    public ItemAdapter(int TYPE, BaseStatusBarActivity context, List<Object> list, String itemid, String gz_id) {        this.TYPE = TYPE;        this.context = context;        this.list = list;        this.itemid = itemid;        this.gz_id = gz_id;    }    class XsViewHolder extends RecyclerView.ViewHolder {        public ImageView logo;        public ImageView vip_img;        public ImageView zb;        public TextView grade;        public TextView title;        public TextView cyTime;        public View view;        public XsViewHolder(View itemView) {            super(itemView);            logo = itemView.findViewById(R.id.cyLogo);            vip_img = itemView.findViewById(R.id.vip_logo);            zb = itemView.findViewById(R.id.zb);            grade = itemView.findViewById(R.id.grade);            title = itemView.findViewById(R.id.cyTitle);            cyTime = itemView.findViewById(R.id.cyTime);            view = itemView;        }    }    class JjViewHolder extends RecyclerView.ViewHolder {        public ImageView logo;        public ImageView vip_img;        public ImageView zb;        public TextView grade;        public TextView title;        public TextView cyTime;        public TextView mContent;        public View view;        public JjViewHolder(View itemView) {            super(itemView);            logo = itemView.findViewById(R.id.cyLogo);            vip_img = itemView.findViewById(R.id.vip_logo);            zb = itemView.findViewById(R.id.zb);            grade = itemView.findViewById(R.id.grade);            title = itemView.findViewById(R.id.cyTitle);            cyTime = itemView.findViewById(R.id.cyTime);            mContent = itemView.findViewById(R.id.mContent);            view = itemView;        }    }    class ZbViewHolder extends RecyclerView.ViewHolder {        public ImageView zb;        public CircleImageView logo;        public TextView name;        public TextView cyTime;        public TextView cyLocation;        public TextView cyMonty;        public TextView cyZhouqi;        public View view;        public ZbViewHolder(View itemView) {            super(itemView);            zb = itemView.findViewById(R.id.yzb);            logo = itemView.findViewById(R.id.logo);            cyMonty = itemView.findViewById(R.id.cyMonty);            name = itemView.findViewById(R.id.cyName);            cyZhouqi = itemView.findViewById(R.id.cyZhouqi);            cyTime = itemView.findViewById(R.id.cyTime);            cyLocation = itemView.findViewById(R.id.cyLocation);            view = itemView;        }    }    @Override    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {        if (viewType == 0) {            //悬赏            return new XsViewHolder(LayoutInflater.from(context).inflate(R.layout.view_xs_fangan_item, null));        } else if (viewType == 1) {            //招标            return new ZbViewHolder(LayoutInflater.from(context).inflate(R.layout.view_zb_fangan_item, null));        } else if (viewType == 2) {            //计件            return new JjViewHolder(LayoutInflater.from(context).inflate(R.layout.view_jj_fangan_item, null));        }        return null;    }    @Override    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {        if (holder instanceof XsViewHolder) {            ((XsViewHolder) holder).view.setLayoutParams(new RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));            final XuanShangFangAnGson.ListBean listEntity = (XuanShangFangAnGson.ListBean) list.get(position);            ((XsViewHolder) holder).title.setText(listEntity.getViker_name());            switch (listEntity.getZb()) {                case 10:                    ((XsViewHolder) holder).zb.setVisibility(View.VISIBLE);                    ((XsViewHolder) holder).zb.setImageResource(R.mipmap.zb);                    break;                case 9:                    ((XsViewHolder) holder).zb.setVisibility(View.VISIBLE);                    ((XsViewHolder) holder).zb.setImageResource(R.mipmap.ydj);                    break;                case 8:                    ((XsViewHolder) holder).zb.setVisibility(View.VISIBLE);                    ((XsViewHolder) holder).zb.setImageResource(R.mipmap.edj);                    break;                case 7:                    ((XsViewHolder) holder).zb.setVisibility(View.VISIBLE);                    ((XsViewHolder) holder).zb.setImageResource(R.mipmap.sdj);                    break;                case 1:                    ((XsViewHolder) holder).zb.setVisibility(View.VISIBLE);                    ((XsViewHolder) holder).zb.setImageResource(R.mipmap.hg);                    break;                case 0:                    switch (listEntity.getIsread()) {                        case -1:                            ((XsViewHolder) holder).zb.setVisibility(View.VISIBLE);                            ((XsViewHolder) holder).zb.setImageResource(R.mipmap.bhg);                            break;                        case 2:                            ((XsViewHolder) holder).zb.setVisibility(View.VISIBLE);                            ((XsViewHolder) holder).zb.setImageResource(R.mipmap.ybx);                            break;                        default:                            ((XsViewHolder) holder).zb.setVisibility(View.GONE);                            break;                    }                    break;                default:                    ((XsViewHolder) holder).zb.setVisibility(View.VISIBLE);                    ((XsViewHolder) holder).zb.setImageResource(R.mipmap.yxj);                    break;            }            switch (listEntity.getRole()) {                case "zhongbiao":                    if (listEntity.getIspic() == 1) {                        ImageLoadUtils.Companion.display(context,((XsViewHolder) holder).logo,(String)listEntity.getPicurl());                    } else {                        ImageLoadUtils.Companion.display(context,((XsViewHolder) holder).logo,listEntity.getImageurl());                    }                    break;                case "show":                    if (listEntity.getIspic() == 1) {                        ImageLoadUtils.Companion.display(context,((XsViewHolder) holder).logo,(String)listEntity.getPicurl());                    } else {                        ImageLoadUtils.Companion.display(context,((XsViewHolder) holder).logo,(String)listEntity.getPicurl());                    }                    break;                case "pingbi":                    ((XsViewHolder) holder).logo.setImageResource(R.mipmap.icon_148);                    break;                case "wait":                    ((XsViewHolder) holder).logo.setImageResource(R.mipmap.icon_150);                    break;                case "unshow":                    ((XsViewHolder) holder).logo.setImageResource(R.mipmap.icon_146);                    break;                case "doing":                    ((XsViewHolder) holder).logo.setImageResource(R.mipmap.icon_152);                    break;            }            LhtTool.shopDetailsIsVip(listEntity.getViker_check(), ((XsViewHolder) holder).vip_img);            LhtTool.jifen(listEntity.getViker_grade(), ((XsViewHolder) holder).grade);            ((XsViewHolder) holder).cyTime.setText(listEntity.getAddtime() + "参与");            ((XsViewHolder) holder).view.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    if (context instanceof TaskDetailsActivity) {                        Intent intent = new Intent(context, AllPlanActivity.class);                        intent.putExtra("TYPE", TYPE);                        intent.putExtra("ID", itemid);                        context.startActivityForResult(intent, 1);                    } else if (context instanceof OrderDetailsActivity) {                        Intent intent = new Intent(context, PlanListActivity.class);                        intent.putExtra("TYPE", TYPE);                        intent.putExtra("ID", itemid);                        intent.putExtra("GZID", gz_id);                        context.startActivityForResult(intent, 1);                    } else {                        if (listEntity.getRole().equals("zhongbiao") || listEntity.getRole().equals("show")) {                            Intent intent = new Intent(context, PlanDetailsActivity.class);                            intent.putExtra("TYPE", TYPE);                            intent.putExtra("ID", itemid);                            intent.putExtra("CYID", listEntity.getCyid());                            context.startActivityForResult(intent, 1);                        } else {                            ToastUtils.showShort("对不起，您无权访问");                        }                    }                }            });        } else if (holder instanceof ZbViewHolder) {            final ZhaoBiaoFangAnGson.ListBean listEntity = (ZhaoBiaoFangAnGson.ListBean) list.get(position);            if (listEntity.getRole() != null && listEntity.getRole().equals("zb")) {                ((ZbViewHolder) holder).zb.setVisibility(View.VISIBLE);                ((ZbViewHolder) holder).zb.setImageResource(R.mipmap.zb);            } else {                ((ZbViewHolder) holder).zb.setVisibility(View.GONE);            }            ((ZbViewHolder) holder).cyTime.setText("提交于：" + listEntity.getTj_time());            ((ZbViewHolder) holder).cyLocation.setText(listEntity.getFujian());            ((ZbViewHolder) holder).cyMonty.setText("￥" + listEntity.getViewlink());            ((ZbViewHolder) holder).cyZhouqi.setText(listEntity.getZb() + "");            ((ZbViewHolder) holder).name.setText(listEntity.getViker_name());            ImageLoadUtils.Companion.display(context,((ZbViewHolder) holder).logo,listEntity.getImageurl());            ((ZbViewHolder) holder).view.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    if (context instanceof TaskDetailsActivity) {                        Intent intent = new Intent(context, AllPlanActivity.class);                        intent.putExtra("TYPE", TYPE);                        intent.putExtra("ID", itemid);                        context.startActivityForResult(intent, 1);                    } else if (context instanceof OrderDetailsActivity) {                        Intent intent = new Intent(context, PlanListActivity.class);                        intent.putExtra("TYPE", TYPE);                        intent.putExtra("ID", itemid);                        intent.putExtra("GZID", gz_id);                        context.startActivityForResult(intent, 1);                    } else {                        if (listEntity.getRole() != null && listEntity.getRole().equals("zb")) {                            Intent intent = new Intent(context, PlanDetailsActivity.class);                            intent.putExtra("TYPE", TYPE);                            intent.putExtra("ID", itemid);                            intent.putExtra("CYID", listEntity.getCyid());                            context.startActivityForResult(intent, 1);                        } else {                            if (LhtTool.isLogin) {                                if (MyApplication.userInfo.getUserID().equals(String.valueOf(listEntity.getViker_userid())) ||                                        MyApplication.userInfo.getUserID().equals(gz_id)) {                                    Intent intent = new Intent(context, PlanDetailsActivity.class);                                    intent.putExtra("TYPE", TYPE);                                    intent.putExtra("ID", itemid);                                    intent.putExtra("CYID", listEntity.getCyid());                                    context.startActivityForResult(intent, 1);                                } else {                                    CustomToast.showToast(context, "对不起，您无权访问", Toast.LENGTH_LONG);                                }                            } else {                                CustomToast.showToast(context, "对不起，您无权访问", Toast.LENGTH_LONG);                            }                        }                    }                }            });        } else if (holder instanceof JjViewHolder) {            final JiJianFangAnGson.ListBean listEntity = (JiJianFangAnGson.ListBean) list.get(position);            ImageLoadUtils.Companion.display(context,((JjViewHolder) holder).logo,listEntity.getImageurl());            ((JjViewHolder) holder).title.setText(listEntity.getUsername());            LhtTool.shopDetailsIsVip(Integer.parseInt(listEntity.getViker_check()), ((JjViewHolder) holder).vip_img);            LhtTool.jifen(Integer.parseInt(listEntity.getViker_grade()), ((JjViewHolder) holder).grade);            ((JjViewHolder) holder).cyTime.setText(listEntity.getAddtime() + "参与");            ((JjViewHolder) holder).mContent.setText(listEntity.getCon());            switch (listEntity.getStatus()) {                case "0":                    ((JjViewHolder) holder).zb.setVisibility(View.GONE);                    break;                case "1":                    ((JjViewHolder) holder).zb.setVisibility(View.VISIBLE);                    ((JjViewHolder) holder).zb.setImageResource(R.mipmap.bhg);                    break;                case "2":                    ((JjViewHolder) holder).zb.setVisibility(View.VISIBLE);                    ((JjViewHolder) holder).zb.setImageResource(R.mipmap.hg);                    break;                default:                    ((JjViewHolder) holder).zb.setVisibility(View.GONE);                    break;            }            ((JjViewHolder) holder).view.setOnClickListener(new View.OnClickListener() {                @Override                public void onClick(View v) {                    if (context instanceof TaskDetailsActivity) {                        Intent intent = new Intent(context, AllPlanActivity.class);                        intent.putExtra("TYPE", TYPE);                        intent.putExtra("ID", itemid);                        context.startActivityForResult(intent, 1);                    } else if (context instanceof OrderDetailsActivity) {                        Intent intent = new Intent(context, PlanListActivity.class);                        intent.putExtra("TYPE", TYPE);                        intent.putExtra("ID", itemid);                        intent.putExtra("GZID", gz_id);                        context.startActivityForResult(intent, 1);                    } else {                        if (listEntity.getRole().equals("1")) {                            Intent intent = new Intent(context, PlanDetailsActivity.class);                            intent.putExtra("TYPE", TYPE);                            intent.putExtra("ID", itemid);                            intent.putExtra("CYID", listEntity.getId());                            context.startActivityForResult(intent, 1);                        } else {                            CustomToast.showToast(context, "对不起，您无权访问", Toast.LENGTH_LONG);                        }                    }                }            });        }    }    @Override    public int getItemCount() {        return list.size();    }    @Override    public int getItemViewType(int position) {        return TYPE;    }}